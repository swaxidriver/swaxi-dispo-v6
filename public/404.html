<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Swaxi Dispo v6</title>
    <script>
      // GitHub Pages SPA redirect hack
      // https://github.com/rafgraph/spa-github-pages
      (function (l) {
        if (l.search[1] === "/") {
          var decoded = l.search
            .slice(1)
            .split("&")
            .map(function (s) {
              return s.replace(/~and~/g, "&");
            })
            .join("?");
          window.history.replaceState(
            null,
            null,
            l.pathname.slice(0, -1) + decoded + l.hash,
          );
        }
      })(window.location);
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Redirect all routes to index.html for client-side routing
      var path = window.location.pathname;
      var base = "/swaxi-dispo-v6";

      if (path.startsWith(base) && path !== base + "/") {
        var redirect =
          base +
          "/?/" +
          path.slice(base.length + 1) +
          window.location.search +
          window.location.hash;
        window.location.replace(redirect);
      } else {
        // Load the main app
        window.location.replace(base + "/");
      }
    </script>
  </body>
</html>
